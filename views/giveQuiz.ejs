<% include ./partials/header.ejs %>


<div style="margin: 10;">
    <form method="POST" action="/quiz/answer/<%=questions[0].quizId%>">
<% var open = 0; questions.forEach((question,index) => { %>
    <% if(index%3 === 0) { open = 1; %>
        <div class="row">
    <% } %>
            <div class="col-4">
              <div class="list-group" id="myList" role="tablist">
                <span class="list-group-item" id="list-question" role="tab" aria-controls="home">Q<%=index+1%>. <%=question.question%></span>
                <a style="cursor:pointer;" class="list-group-item list-group-item-action" id="1" data-toggle="list" role="tab" aria-controls="home">1. <%=question.option1%></a>
                <a style="cursor:pointer;" class="list-group-item list-group-item-action" id="2" data-toggle="list" role="tab" aria-controls="profile">2 .<%=question.option2%></a>
                <a style="cursor:pointer;" class="list-group-item list-group-item-action" id="3" data-toggle="list" role="tab" aria-controls="messages">3. <%=question.option3%></a>
                <a style="cursor:pointer;" class="list-group-item list-group-item-action" id="4" data-toggle="list" role="tab" aria-controls="settings">4. <%=question.option4%></a>
                <input type="text" hidden name="questionId" value="<%=question.questionId%>">
                <input type="text" hidden id="answer" name="answer">
              </div>
            </div>
        <% if((index+1)%3 == 0) { open = 0;%>
        </div>
        <br />
            <%}%>    
<%}); %>
<% if(open === 1) { %>
</div>
<br />
    <% } %>
    <center>
    <input type="submit" class="btn btn-primary" value="Submit">
</center>

</form>

</div>
<script>
$('#myList a').on('click', function (e) {
    e.preventDefault();
    $(this).siblings("#answer").val($(this).attr('id'));
});
</script>
</body>
</html>